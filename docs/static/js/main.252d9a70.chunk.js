(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(18)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(7),o=a.n(s),r=(a(14),a(1)),c=a(2),l=a(4),m=a(3),u=a(5),d=(a(15),function(){function e(){self.remainingTicks--,n(),0===self.remainingTicks&&(clearInterval(self.countdown),a())}function t(){self.remainingTicks--,n(),0===self.remainingTicks&&(clearInterval(self.countdown),self.remainingTicks=self.timerBreakTimeTicks,self.mode="break",self.countdown=setInterval(e,1e3))}function a(){self.remainingTicks=self.timerScreenTimeTicks,self.mode="screenTime",self.countdown=setInterval(t,1e3)}function n(){self.postMessage({mode:self.mode,remainingTicks:self.remainingTicks})}self.addEventListener("message",function(e){"start"===e.data.mode?(self.timerScreenTimeTicks=e.data.timerScreenTimeTicks,self.timerBreakTimeTicks=e.data.timerBreakTimeTicks,a()):(clearInterval(self.countdown),self.mode="stopped",self.remainingTicks=self.timerScreenTimeTicks),n()},!1)}),h=function e(t){Object(r.a)(this,e);var a=t.toString(),n=new Blob(["("+a+")()"]);return new Worker(URL.createObjectURL(n))},p=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"checkbox-wrapper",disabled:this.props.isDisabled},i.a.createElement("input",{id:this.props.id,name:this.props.inputName,type:"checkbox",disabled:this.props.isDisabled,checked:this.props.isChecked,onChange:this.props.onChange}),i.a.createElement("label",{htmlFor:this.props.id},this.props.labelText))}}]),t}(i.a.Component),f=[{name:"chime",file:"chime.mp3"},{name:"ping",file:"ping.wav"},{name:"alert",file:"alert.wav"},{name:"echo",file:"echo.wav"}],y=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"playSound",value:function(){this.props.audioObject.play()}},{key:"render",value:function(){var e=this,t=f.map(function(e){return i.a.createElement("option",{key:e.file,value:e.file},e.name)});return i.a.createElement("div",{className:"select-wrapper"},i.a.createElement("select",{value:this.props.value,id:this.props.id,name:this.props.inputName,disabled:this.props.isDisabled,onChange:this.props.onChange},t),i.a.createElement("label",{htmlFor:this.props.id},this.props.labelText),i.a.createElement("button",{disabled:this.props.isDisabled,onClick:function(){return e.playSound()}},"Preview"))}}]),t}(i.a.Component),k=10,g=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(l.a)(this,Object(m.a)(t).call(this,e));var n=new h(d),i="granted"===Notification.permission,s=f[0].file;return n.addEventListener("message",function(e){return a.handleTimerEvent(e)}),a.state={worker:n,mode:"stopped",remainingTicks:k,displayNotifications:i,playSound:!0,soundFileName:s,audioObject:a.getAudioObject(s)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getAudioObject",value:function(e){return new Audio("./media/".concat(e))}},{key:"handleTimerEvent",value:function(e){if(this.setState(e.data),document.title="stopped"===e.data.mode?"20-20-20 Rule":"".concat(Math.ceil(this.state.remainingTicks/60)," minutes"),0===this.state.remainingTicks){if(this.state.displayNotifications){var t="screenTime"===this.state.mode?"Look away from your screen for 20 seconds.":"Break complete.";new Notification(t)}this.state.playSound&&this.state.audioObject.play()}}},{key:"startTimer",value:function(){var e={mode:"start",timerScreenTimeTicks:k,timerBreakTimeTicks:5};this.state.worker.postMessage(e)}},{key:"stopTimer",value:function(){this.state.worker.postMessage("stop")}},{key:"onDisplayNotificationsChange",value:function(e){var t=this;e.target.checked&&"granted"!==Notification.permission&&Notification.requestPermission().then(function(a){"granted"===a?t.setState({displayNotifications:e.target.checked}):(alert("You must allow notification to use this feature."),t.setState({displayNotifications:!1}))}),this.setState({displayNotifications:e.target.checked})}},{key:"onPlaySoundChange",value:function(e){this.setState({playSound:e.target.checked})}},{key:"onChangeSound",value:function(e){var t=e.target.value;this.setState({soundFileName:t,audioObject:this.getAudioObject(t)})}},{key:"render",value:function(){var e=this,t="screenTime"===this.state.mode?k:5,a=this.state.remainingTicks/t*100,n=this.state.remainingTicks%60,s=Math.floor(this.state.remainingTicks/60);return i.a.createElement("div",{className:"timer row"},i.a.createElement("div",{className:"donut-chart col"},i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 42 42",className:"donut"},i.a.createElement("circle",{className:"donut-hole",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent"}),i.a.createElement("circle",{className:"donut-ring",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#FFFFFF22",strokeWidth:"5"}),i.a.createElement("circle",{className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#FFFFFFAA",strokeWidth:"5",strokeDasharray:"".concat(100-a," ").concat(a),strokeDashoffset:"25"})),i.a.createElement("div",{className:"timer-status"},i.a.createElement("div",{className:"count-down"},"".concat(s,":").concat(("0"+n).slice(-2))),"stopped"===this.state.mode?i.a.createElement("button",{onClick:function(){return e.startTimer()}},"Start"):i.a.createElement("button",{onClick:function(){return e.stopTimer()}},"Stop"))),i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"Options"),i.a.createElement(p,{labelText:"Display Notifications",inputName:"displayNotifications",id:"displayNotifications",isChecked:this.state.displayNotifications,onChange:function(t){return e.onDisplayNotificationsChange(t)}}),i.a.createElement(p,{labelText:"Play Sound",inputName:"playSound",id:"playSound",isChecked:this.state.playSound,onChange:function(t){return e.onPlaySoundChange(t)}}),i.a.createElement("div",{className:"sound-selector"},i.a.createElement(y,{value:this.state.soundFile,isDisabled:!this.state.playSound,audioObject:this.state.audioObject,onChange:function(t){return e.onChangeSound(t)}}))))}}]),t}(i.a.Component),b=(a(16),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"How to Use this Site"),i.a.createElement("p",null,"Computer Vision Syndom (CVS) describes the symptoms associated with prolonged computer, phone, and other digital device use. Common symptoms are eyestrain, headaches, blurred vision, and dry eyes."),i.a.createElement("p",null,"Periodically looking away from your screen to relax your eyes can help reduce the frequency of symptoms."),i.a.createElement("p",null,"Simply press start and go back to doing what you were doing. You'll get a notification when it time to look away from your screen and another notification when the break is over.")),i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"Does this Actually Help?"),i.a.createElement("p",null,"The ",i.a.createElement("a",{href:"https://www.aoa.org/documents/infographics/SYVM2016Infographics.pdf"},"American Optomietric Association"),", ",i.a.createElement("a",{href:"https://opto.ca/health-library/the-20-20-20-rule"},"Canadian Association of Optometrists"),", and ",i.a.createElement("a",{href:"https://www.aao.org/eye-health/tips-prevention/computer-usage"},"American Academy of Ophthalmology")," all recommend using this method to reduce eye strain."),i.a.createElement("p",null,i.a.createElement("a",{href:"https://www.nepjol.info/index.php/NEPJOPH/article/view/8707"},"A study")," involving 795 students between the ages of 18 and 25 found that looking at far away objects in-between work was significantly (p=0.0008) associated with lower frequency of CVS symptoms. ")))}}]),t}(i.a.Component)),v=(a(17),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Prevent Computer Eye Strain with the 20-20-20 Rule"),i.a.createElement("h2",null,"Every ",i.a.createElement("em",null,"20")," minutes of screen time look at least ",i.a.createElement("em",null,"20")," feet away for ",i.a.createElement("em",null,"20")," seconds"),i.a.createElement(g,null),i.a.createElement(b,null))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.252d9a70.chunk.js.map