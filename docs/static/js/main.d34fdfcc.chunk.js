(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(7),s=a.n(o),l=(a(14),a(15),a(1)),r=a(2),c=a(4),u=a(3),m=a(5),d=(a(16),function(){function e(){self.remainingTicks--,n(),0===self.remainingTicks&&(clearInterval(self.countdown),a())}function t(){self.remainingTicks--,n(),0===self.remainingTicks&&(clearInterval(self.countdown),self.remainingTicks=self.timerBreakTimeTicks,self.mode="break",self.countdown=setInterval(e,1e3))}function a(){self.remainingTicks=self.timerScreenTimeTicks,self.mode="screenTime",self.countdown=setInterval(t,1e3)}function n(){self.postMessage({mode:self.mode,remainingTicks:self.remainingTicks})}self.addEventListener("message",function(e){"start"===e.data.mode?(self.timerScreenTimeTicks=e.data.timerScreenTimeTicks,self.timerBreakTimeTicks=e.data.timerBreakTimeTicks,a()):(clearInterval(self.countdown),self.mode="stopped",self.remainingTicks=self.timerScreenTimeTicks),n()},!1)}),h=function e(t){Object(l.a)(this,e);var a=t.toString(),n=new Blob(["("+a+")()"]);return new Worker(URL.createObjectURL(n))},p=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"checkbox-wrapper",disabled:this.props.isDisabled},i.a.createElement("input",{id:this.props.id,name:this.props.inputName,type:"checkbox",title:this.props.title,disabled:this.props.isDisabled,checked:this.props.isChecked,onChange:this.props.onChange}),i.a.createElement("label",{htmlFor:this.props.id,title:this.props.title},this.props.labelText))}}]),t}(i.a.Component),f=(a(17),[{name:"chime",file:"chime.mp3"},{name:"ping",file:"ping.wav"},{name:"alert",file:"alert.wav"},{name:"echo",file:"echo.wav"}]),y=[100,90,80,70,60,50,40,30,20,10],g=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"playSound",value:function(){this.props.audioObject.play()}},{key:"render",value:function(){var e=this,t=f.map(function(e){return i.a.createElement("option",{key:e.file,value:e.file},e.name)}),a=y.map(function(e){return i.a.createElement("option",{key:e,value:e},e,"%")});return i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"soundSelect"},"Sound")),i.a.createElement("td",null,i.a.createElement("select",{value:this.props.soundFileName,id:"soundSelect",name:"soundSelect",disabled:this.props.isDisabled,onChange:this.props.onSoundFileChange},t))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"soundVolume"},"Volume")),i.a.createElement("td",null,i.a.createElement("select",{value:this.props.soundVolume,id:"soundVolume",name:"soundVolume",disabled:this.props.isDisabled,onChange:this.props.onVolumeChange},a))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},i.a.createElement("div",null,i.a.createElement("button",{disabled:this.props.isDisabled,onClick:function(){return e.playSound()}},"Preview"))))))}}]),t}(i.a.Component),k=1200,b=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=new h(d),i="granted"===Notification.permission,o="true"===localStorage.getItem("automaticallyStart"),s="true"===localStorage.getItem("displayNotifications")&&i,r="true"===(localStorage.getItem("playSound")||"true"),m=localStorage.getItem("soundVolume")||100,p=localStorage.getItem("soundFileName")||f[0].file;return n.addEventListener("message",function(e){return a.handleTimerEvent(e)}),a.state={worker:n,mode:"stopped",remainingTicks:k,automaticallyStart:o,displayNotifications:s,playSound:r,soundFileName:p,soundVolume:m,audioObject:a.getAudioObject(p)},o&&a.startTimer(),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"getAudioObject",value:function(e){return new Audio("./media/".concat(e))}},{key:"handleTimerEvent",value:function(e){if(this.setState(e.data),document.title=this.getWindowTitle(),0===this.state.remainingTicks){if(this.state.displayNotifications){var t="screenTime"===this.state.mode?"Look away from your screen for 20 seconds.":"Break complete.";new Notification(t)}this.state.playSound&&this.state.audioObject.play()}}},{key:"getWindowTitle",value:function(){var e=this.state.mode;if("stopped"===e)return"20-20-20 Rule";if("break"===e)return"Break time";var t=Math.floor(this.state.remainingTicks/60);return t>0?"".concat(t," ").concat(t>1?"minutes":"minute"):"Less than 1 minute"}},{key:"startTimer",value:function(){var e={mode:"start",timerScreenTimeTicks:k,timerBreakTimeTicks:20};this.state.worker.postMessage(e)}},{key:"stopTimer",value:function(){this.state.worker.postMessage("stop")}},{key:"setNotificationsEnabled",value:function(e){localStorage.setItem("displayNotifications",e),this.setState({displayNotifications:e})}},{key:"onDisplayNotificationsChange",value:function(e){var t=this;e.target.checked&&"granted"!==Notification.permission&&Notification.requestPermission().then(function(a){"granted"===a?t.setNotificationsEnabled(e.target.checked):(alert("You must allow notification to use this feature."),t.setNotificationsEnabled(!1))}),this.setNotificationsEnabled(e.target.checked)}},{key:"onAutomaticallyStartChange",value:function(e){var t=e.target.checked;localStorage.setItem("automaticallyStart",t),this.setState({automaticallyStart:t})}},{key:"onPlaySoundChange",value:function(e){var t=e.target.checked;localStorage.setItem("playSound",t),this.setState({playSound:t})}},{key:"onChangeSoundFile",value:function(e){var t=e.target.value;localStorage.setItem("soundFileName",t),this.setState({soundFileName:t,audioObject:this.getAudioObject(t)})}},{key:"onChangeVolume",value:function(e){var t=e.target.value;localStorage.setItem("soundVolume",t),this.state.audioObject.volume=t/100,this.setState({soundVolume:t})}},{key:"render",value:function(){var e=this,t="screenTime"===this.state.mode?k:20,a=this.state.remainingTicks/t*100,n=this.state.remainingTicks%60,o=Math.floor(this.state.remainingTicks/60);return i.a.createElement("div",{className:"timer row"},i.a.createElement("div",{className:"donut-chart col"},i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 42 42",className:"donut"},i.a.createElement("circle",{className:"donut-hole",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent"}),i.a.createElement("circle",{className:"donut-ring",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#FFFFFF22",strokeWidth:"5"}),i.a.createElement("circle",{className:"donut-segment",cx:"21",cy:"21",r:"15.91549430918954",fill:"transparent",stroke:"#FFFFFFAA",strokeWidth:"5",strokeDasharray:"".concat(100-a," ").concat(a),strokeDashoffset:"25"})),i.a.createElement("div",{className:"timer-status"},i.a.createElement("div",{className:"count-down"},"".concat(o,":").concat(("0"+n).slice(-2))),"stopped"===this.state.mode?i.a.createElement("button",{onClick:function(){return e.startTimer()}},"Start"):i.a.createElement("button",{onClick:function(){return e.stopTimer()}},"Stop"))),i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"Options"),i.a.createElement(p,{labelText:"Automatically Start on Page Load",inputName:"automaticallyStart",id:"automaticallyStart",title:"Automatically start the timer when this page is opened.",isChecked:this.state.automaticallyStart,onChange:function(t){return e.onAutomaticallyStartChange(t)}}),i.a.createElement(p,{labelText:"Display Notifications",inputName:"displayNotifications",id:"displayNotifications",title:"Display a browser notification when it's time for a break and when the break is over.",isChecked:this.state.displayNotifications,onChange:function(t){return e.onDisplayNotificationsChange(t)}}),i.a.createElement(p,{labelText:"Play Sound",inputName:"playSound",id:"playSound",title:"Play a sound when it's time for a break and when the break is over.",isChecked:this.state.playSound,onChange:function(t){return e.onPlaySoundChange(t)}}),i.a.createElement("div",{className:"sound-selector"},i.a.createElement(g,{soundFileName:this.state.soundFileName,soundVolume:this.state.soundVolume,isDisabled:!this.state.playSound,audioObject:this.state.audioObject,onSoundFileChange:function(t){return e.onChangeSoundFile(t)},onVolumeChange:function(t){return e.onChangeVolume(t)}}))))}}]),t}(i.a.Component),v=(a(18),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"about row"},i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"How to Use this Site"),i.a.createElement("p",null,"Computer Vision Syndom (CVS) describes the symptoms associated with prolonged computer, phone, and other digital device use. Common symptoms are eyestrain, headaches, blurred vision, and dry eyes."),i.a.createElement("p",null,"Periodically looking away from your screen to relax your eyes can help reduce the frequency of symptoms."),i.a.createElement("p",null,"Simply press start and go back to doing what you were doing. You'll get a notification when it time to look away from your screen and another notification when the break is over.")),i.a.createElement("div",{className:"col"},i.a.createElement("h3",null,"Does this Actually Help?"),i.a.createElement("p",null,"The ",i.a.createElement("a",{href:"https://www.aoa.org/documents/infographics/SYVM2016Infographics.pdf"},"American Optomietric Association"),", ",i.a.createElement("a",{href:"https://opto.ca/health-library/the-20-20-20-rule"},"Canadian Association of Optometrists"),", and ",i.a.createElement("a",{href:"https://www.aao.org/eye-health/tips-prevention/computer-usage"},"American Academy of Ophthalmology")," all recommend using this method to reduce eye strain."),i.a.createElement("p",null,i.a.createElement("a",{href:"https://www.nepjol.info/index.php/NEPJOPH/article/view/8707"},"A study")," involving 795 students between the ages of 18 and 25 found that looking at far away objects in-between work was significantly (p=0.0008) associated with lower frequency of CVS symptoms. ")))}}]),t}(i.a.Component)),E=(a(19),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",null,i.a.createElement("h1",null,"Prevent Computer Eye Strain with the 20-20-20 Rule"),i.a.createElement("h2",null,"Every ",i.a.createElement("em",null,"20")," minutes of screen time look at least ",i.a.createElement("em",null,"20")," feet away for ",i.a.createElement("em",null,"20")," seconds")),i.a.createElement(b,null),i.a.createElement(v,null))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.d34fdfcc.chunk.js.map